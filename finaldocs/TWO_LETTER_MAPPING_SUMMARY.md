# Two-Letter File Mapping Summary

## Overview

This document summarizes the comprehensive mapping and renaming of **143 two-letter obfuscated Java files** in the Vitruvian fitness app codebase. These files follow the pattern `[a-z][0-9].java` or `[A-Z][0-9].java` and are primarily Kotlin lambda/callback classes used in Jetpack Compose UI rendering.

## Statistics

### Total Files: 143

| Module | Count | Description |
|--------|-------|-------------|
| **workouts/builder** | 52 | Workout builder UI callbacks and composables |
| **coaching/classes** | 52 | Coaching classes UI callbacks and composables |
| **workouts/overview** | 16 | Workout overview screen UI components |
| **coaching/programs** | 13 | Coaching programs UI components |
| **settings** | 10 | Settings screen callbacks |

### By Purpose Type

| Purpose | Count | Description |
|---------|-------|-------------|
| **LambdaCallback** | 49 | Simple callback functions (InterfaceC7714a) |
| **ViewModelCallback** | 22 | ViewModel-specific callbacks |
| **Unknown** | 18 | Abstract classes or sealed variants |
| **ComposeFunction2Params** | 15 | Compose functions with 2 parameters |
| **LambdaFunction1Param** | 14 | Lambda functions with 1 parameter |
| **ComposeRenderFunction** | 13 | Compose render functions |
| **ComposeRenderFunction3Params** | 8 | Compose render functions with 3 parameters |
| **ComposeFunction3Params** | 4 | Compose functions with 3 parameters |

## Key Patterns Discovered

### 1. Compose UI Lambda Functions

Most files are Kotlin synthetic classes generated by the compiler for lambda expressions in Jetpack Compose UI code:

```kotlin
// Example: A0.java - CoachingClassesCallback1
// Purpose: Find selected class index in list
public final class A0 extends Am.p implements InterfaceC7714a<Integer> {
    public final List<xk.k> f38322a;
    public final CoachingViewCategoryScreenViewModel f38323b;

    @Override
    public final Integer invoke() {
        // Find index of selected category
        Iterator<xk.k> it = this.f38322a.iterator();
        int i10 = 0;
        while (it.hasNext()) {
            if (matches(it.next(), viewModel.getValue())) {
                break;
            }
            i10++;
        }
        return Integer.valueOf(i10 != -1 ? i10 : 0);
    }
}
```

### 2. Sealed Class Variants

Some files are abstract base classes for sealed class hierarchies:

```kotlin
// Example: R0.java - CoachingClassesHelper1
// Sealed class representing navigation events
public abstract class R0 {
    public static final class a extends R0 {
        // Represents "Back" navigation event
        public String toString() {
            return "Back";
        }
    }
}
```

### 3. Synthetic Method References

Some files are synthetic classes for method references:

```kotlin
// Example: v1.java - WorkoutBuilderComposer4
// Synthetic reference to WorkoutBuilderViewModel.g()
public final synthetic class v1 extends C1254k
    implements InterfaceC7729p<wj.G, InterfaceC6585d<? super C5503B>, Object> {

    @Override
    public final Object invoke(wj.G g10, InterfaceC6585d<? super C5503B> interfaceC6585d) {
        return WorkoutBuilderViewModel.g((WorkoutBuilderViewModel) this.f486b, g10, interfaceC6585d);
    }
}
```

## Module Breakdown

### Workout Builder (52 files)

Location: `com.vitruvian.app.ui.workouts.builder`

**Key Components:**
- **ScalePBs functionality**: `A0` - Handler for "Scale with my PBs" feature
- **Exercise management**: Multiple callbacks for exercise CRUD operations
- **Compose rendering**: Numerous composable functions for workout builder UI
- **State management**: Callbacks for workout state changes

**Notable Files:**
- `A0.java` → `WorkoutBuilderScalePBs1` - Personal Best scaling functionality
- `k1.java` → `WorkoutBuilderList1` - LazyColumn list rendering
- `O0.java` → `WorkoutBuilderHelper2` - Abstract sealed class base

### Coaching Classes (52 files)

Location: `com.vitruvian.app.ui.coaching.classes`

**Key Components:**
- **Category navigation**: Finding and selecting class categories
- **UI rendering**: Composable functions for class display
- **Event handling**: Click, navigation, and selection callbacks

**Notable Files:**
- `A0.java` → `CoachingClassesCallback1` - Find category index callback
- `p1.java` → `CoachingClassesComposer3` - 2-parameter compose function
- `R0.java` → `CoachingClassesHelper1` - Navigation event sealed class

### Workout Overview (16 files)

Location: `com.vitruvian.app.ui.workouts.overview`

**Key Components:**
- **Workout display**: Rendering workout overview cards
- **Action handlers**: Callbacks for workout actions (edit, delete, share)
- **Dialog management**: Dismiss handlers for dialogs

**Notable Files:**
- `a0.java` → `WorkoutOverviewComposer1` - Main overview render function
- `p0.java` → `WorkoutOverviewOnDismiss1` - Dialog dismiss handler

### Coaching Programs (13 files)

Location: `com.vitruvian.app.ui.coaching.programs`

**Key Components:**
- **Program display**: Rendering coaching program UI
- **Dropdown menus**: Program selection and filtering
- **List rendering**: LazyColumn for program lists

**Notable Files:**
- `a0.java` → `CoachingProgramsDropdown1` - Dropdown menu render function
- `m0.java` → `CoachingProgramsList1` - Program list composable

### Settings (10 files)

Location: `com.vitruvian.app.ui.settings`

**Key Components:**
- **Bluetooth connection**: Connection callbacks
- **Settings UI**: Composable functions for settings screens
- **Preference handlers**: Callbacks for settings changes

**Notable Files:**
- `a0.java` → `SettingsCallback1` - Bluetooth connection callback
- `c0.java` → `SettingsComposable1` - Settings UI composable

## Naming Convention

### Format: `{Module}{Purpose}{Counter}`

**Modules:**
- `WorkoutBuilder` - Workout builder screen
- `WorkoutOverview` - Workout overview screen
- `CoachingClasses` - Coaching classes screen
- `CoachingPrograms` - Coaching programs screen
- `Settings` - Settings screen

**Purpose Suffixes:**
- `Callback` - InterfaceC7714a (0-parameter callback)
- `Lambda1` - InterfaceC7725l (1-parameter lambda)
- `Composer` - InterfaceC7729p (2-parameter compose function)
- `Composable` - InterfaceC7730q (3-parameter composable)
- `Compose` - Other compose rendering functions
- `Helper` - Abstract classes, sealed variants, utilities
- `OnClick`, `OnDismiss`, etc. - Specific action handlers
- `List`, `Dropdown`, `Dialog` - UI component-specific

**Counter:** Sequential number for uniqueness

### Examples:
- `WorkoutBuilderScalePBs1` - Workout builder scale with PBs callback
- `CoachingClassesCallback1` - Coaching classes generic callback
- `SettingsComposable1` - Settings screen composable function
- `WorkoutOverviewOnDismiss1` - Workout overview dismiss handler

## Functional Interface Types

These files implement various Kotlin functional interfaces from the compiled codebase:

| Interface | Parameters | Return | Usage |
|-----------|------------|--------|-------|
| `InterfaceC7714a<T>` | 0 | T | Simple callbacks |
| `InterfaceC7725l<T, R>` | 1 | R | Single-param lambdas |
| `InterfaceC7729p<T1, T2, R>` | 2 | R | Two-param functions |
| `InterfaceC7730q<T1, T2, T3, R>` | 3 | R | Three-param functions |

## Cross-References

### ViewModel References

Many of these files reference ViewModels:

- **CoachingViewCategoryScreenViewModel** - Referenced by coaching/classes callbacks
- **ViewProgramScreenViewModel** - Referenced by coaching/programs callbacks
- **WorkoutBuilderViewModel** - Referenced by workouts/builder callbacks
- **SettingsViewModel** - Referenced by settings callbacks

### UI Components

Common Jetpack Compose components referenced:

- `LazyColumn` - List rendering
- `DropdownMenu` - Selection menus
- `Dialog` - Modal dialogs
- `Card` - Material cards
- `TextField` - Text input
- `Button` - Action buttons
- `Checkbox` - Boolean selections
- `Slider` - Value sliders

## Files Requiring Special Attention

### Abstract/Sealed Classes

These should be analyzed with their inner classes:

1. `O0.java` (WorkoutBuilderHelper2) - Sealed class with variants
2. `t1.java` (WorkoutBuilderHelper7) - Sealed class with 2 variants
3. `R0.java` (CoachingClassesHelper1) - Navigation event sealed class

### Synthetic Classes

Method reference wrappers:

1. `v1.java` (WorkoutBuilderComposer4) - References `WorkoutBuilderViewModel.g()`

## Mapping Files

### 1. java_to_smali_mappings_two_letter.json

Complete JSON mapping with:
- Original and new file paths
- Package information
- Smali file locations
- Purpose classification
- Field and interface information
- Detailed code analysis

### 2. rename_java_files_two_letter.sh

Executable bash script to perform all 143 renames:
```bash
./rename_java_files_two_letter.sh
```

**Warning:** This will rename files in place. Ensure you have committed any changes before running.

## Verification Checklist

After renaming, verify:

- [ ] All 143 files renamed successfully
- [ ] No compilation errors in Java code
- [ ] Cross-references updated (if auto-generated)
- [ ] Smali files renamed correspondingly
- [ ] Git status shows expected changes
- [ ] No duplicate class names introduced

## Next Steps

1. **Review mappings** - Check `java_to_smali_mappings_two_letter.json` for accuracy
2. **Test rename script** - Run on a test branch first
3. **Execute renames** - Run `rename_java_files_two_letter.sh`
4. **Update imports** - Search for any hardcoded references to old names
5. **Rebuild project** - Ensure everything compiles
6. **Update documentation** - Reference new names in code comments
7. **Commit changes** - Create a clean commit with the renaming

## Related Documentation

- See `TECHNICAL_DOCUMENTATION.md` for overall codebase structure
- See `java_class_mappings.json` for other class mappings
- See previous rename scripts for patterns and best practices

## Generation Details

- **Total files analyzed:** 143
- **Analysis method:** Code pattern matching, interface detection, ViewModel references
- **Smali mapping:** Cross-referenced with corresponding .smali files
- **Generated:** 2025-11-18
- **Tool:** Custom Python analysis scripts

---

**Note:** These files are automatically generated by the Kotlin compiler for lambda expressions and are a normal part of Jetpack Compose codebases. The obfuscation makes them difficult to understand, but the renaming should significantly improve code readability.
